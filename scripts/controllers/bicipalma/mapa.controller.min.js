!function(){"use strict";angular.module("Mobipalma").directive("goBackHistory",["$window",function(o){return{restrict:"A",link:function(i,n,t){n.on("click",function(i){i.stopPropagation(),o.history.length?o.history.back():o.close()})}}}]).controller("Bicipalma.MapaController",["TokenService","$scope","DataFactory","uiGmapGoogleMapApi",function(o,i,n,t){function a(o){i.datos=o.data,e(i.datos)}function e(o){for(var n in o)i.mapas.push({id:o[n].id,coords:{latitude:o[n].latitud,longitude:o[n].longitud},nombre:o[n].nombre_estacion})}i.mapas=[],console.log("Bicipalma.MapaController loaded"),n.getBicipalmaListado().then(function(o){a(o)},function(o){}),i.map={center:{latitude:39.575559,longitude:2.6457358},zoom:14},i.windowOptions={visible:!1},i.onClick=function(){i.windowOptions.visible=!i.windowOptions.visible},i.closeClick=function(){i.windowOptions.visible=!1},i.title="Datos de la parada",t.then(function(o){})}])}();