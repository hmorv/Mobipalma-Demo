(function(){"use strict";angular.module("Mobipalma").directive("goBackHistory",["$window",function(o){return{restrict:"A",link:function(i,n,a){n.on("click",function(i){i.stopPropagation(),o.history.length?o.history.back():o.close()})}}}]).controller("ParadasTaxi.MapaController",["TokenService","$scope","DataFactory","uiGmapGoogleMapApi",function(o,i,n,a){function t(){i.mapas=[],console.log("ParadasTaxi.MapaController loaded"),n.getParadasTaxi().then(function(o){console.log(o),e(o)},function(o){})}function e(o){i.datos=o.data,c(i.datos)}function c(o){for(var n in o)i.mapas.push({id:o[n].clave,coords:{latitude:o[n].latitud,longitude:o[n].longitud},direccion:o[n].direccion,plazas:o[n].numeroPlazas,horario:o[n].horarioEs})}t(),i.map={center:{latitude:39.575559,longitude:2.6457358},zoom:12},i.windowOptions={visible:!1},i.onClick=function(){i.windowOptions.visible=!i.windowOptions.visible},i.closeClick=function(){i.windowOptions.visible=!1},i.title="Datos de la parada",a.then(function(o){})}])})();