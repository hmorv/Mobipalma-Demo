(function(){"use strict";angular.module("Mobipalma").directive("goBackHistory",["$window",function(o){return{restrict:"A",link:function(n,i,t){i.on("click",function(n){n.stopPropagation(),o.history.length?o.history.back():o.close()})}}}]).controller("EstacionesElectricas.MapaController",["TokenService","$scope","DataFactory","uiGmapGoogleMapApi",function(o,n,i,t){function e(){n.mapas=[],console.log("EstacionesElectricas.MapaController loaded"),i.getEstacionesElectricas().then(function(o){console.log(o),c(o)},function(o){})}function c(o){n.datos=o.data,s(n.datos)}function s(o){for(var i in o)console.log("enchufes: "+o[i].enchufes),n.mapas.push({id:o[i].clave,coords:{latitude:o[i].latitud,longitude:o[i].longitud},nombre:o[i].nombreEs,tipoEstacion:o[i].tipoEstacionLabel,enchufesNum:o[i].enchufesCount,enchufes:o[i].enchufes,horario:o[i].horarioEs})}e(),n.map={center:{latitude:39.575559,longitude:2.6457358},zoom:14},n.windowOptions={visible:!1},n.onClick=function(){n.windowOptions.visible=!n.windowOptions.visible},n.closeClick=function(){n.windowOptions.visible=!1},n.title="Datos de la estaci√≥n",t.then(function(o){})}])})();