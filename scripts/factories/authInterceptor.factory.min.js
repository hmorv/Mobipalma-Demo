!function(){"use strict";angular.module("Mobipalma").factory("authInterceptorService",["$q","$rootScope","$injector","localStorageService",function(e,t,r,n){var o,c={},a=function(e,t){(o=o||r.get("$http"))(e).then(function(e){t.resolve(e)},function(e){t.reject(e)})};return c.request=function(e){e.headers=e.headers||{};var t=n.get("token");return t&&(e.headers.Authorization="Bearer "+t.token),e},c.responseError=function(t){var o=e.defer();return 401===t.status?r.get("TokenService").getToken().then(function(e){n.set("token",{token:e.data.token}),a(t.config,o)},function(){o.reject(t)}):o.reject(t),o.promise},c}])}();